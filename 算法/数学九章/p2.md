<!-- { "loadSidebar": true } -->
　　按此以定数竒数求乘数也其法必使以定数度竒数仅余一数而竒数之倍数即乘数也置竒右上定右下者初次以定为实竒为法也立天元一于左上者以一为竒之倍数也得商数与左上相生入左下者以竒商定得商数即竒之倍数以乘天元一而书于下也随以竒数与商数相乘以减定数为余实次以竒为实减余为法置前左下于左上以法约实得商乘左上又并前之左上为左下随以法乘商减实又为余实次又以前余为实次余为法置前左下于左上得商数乘左上又倂前左上为左下随以法乘商减实如此展转相求合两次为一算至余实一乃视左下天元数即乘数也若未至两次余实一者仍以一为法上余数为实实二则商一实三则商二如上求之复得余一其天元数方为乘数原文递互乘除之语未详
　　置各乘率对乘衍数得泛用并泛课衍母多一者为正用或泛多衍母倍数者验元数竒偶同者损其半倍【或三处同类以三约衍母于三处损之】同衍母者为无用当验元数同类者而正用至多处借之以元数两位求等以等约衍母为借数以借数损有以益其无为正用或数处无者如意立数为母约衍母所得以如意子乘之均借补之或欲从省勿借任之为空可也
　　按此求各用数法也其各乘率乘各衍数得用数者即一数余一诸数度尽之数也其云并泛用过衍母倍数验元数同类损之此语似有误当云验问数同偶而用数相并过衍母者损之盖取用皆问数非元数也凡偶数减偶仍余偶减竒仍余竒其数有定竒数减竒则余偶又或余竒减偶则余竒又或余偶其数无定故惟偶数可验也定数一者即无用数必虚为借数未免徒滋烦扰
　　然后以其余各乘正用为各总并总满衍母去之不满为所求率数
　　按此既得各用数以题中所问之竒零求总数也以各余数乗各用数者盖用数为诸数度尽一数余一之数以几数乘之必为诸数度尽一数余几数之数也并各条而以各数度之必各数仍余几数也余数悉合则总数必合矣然衍母为诸数度尽之数累加一衍母众余数皆不变故满衍母去之得在衍母内者其数最小为第一数若大于此数者递加一衍母数无不合者
　　按右大衍本法也原书入于蓍防发防题问荅之后殊失其序今修冠于卷首
　　蓍卦发防
　　问易曰大衍之数五十其用四十有九又曰分而为二以象两卦一以象三揲之以四以象四时三变而成爻十有八变而成卦欲知所衍之术及其数各几何按揲蓍之法载于易传啓言之甚明算术以竒偶相生取名大衍可也竟欲以此易古法则过矣
　　荅曰衍母十二衍法三
　　一元衍数二十四二元衍数一十二三元衍数八四元衍数六　已上四位衍数计五十一楪用数一十二二楪用数二十四三楪用数四四揲用数九　已上四位用数四十九
　　按此附会五十四十九之数与本衍已牵强不合观后可知
　　水　　火　　木　　金　【始此四数以揲】
　　隂阳象数图
　　老阳　少隂　　少阳　老隂【终此四者为爻】
　　按此条与数无取义可删
　　本题术曰置诸元数两两连环求等约竒弗约偶徧约毕乃变元数皆曰定母列右行各立天元一为子列左行以诸定母互乘左行之子各得名曰衍数次以各定母满去衍数各余名曰竒数以竒数与定母用大衍术求一【大衍求一术云以竒于右上定母于右下立天元一于左上先以右行上下两位以少除多所得商数乃递互乘归左行使右上得一而止左上为乘率】得各乘率以乘衍数各得用数验次所揲余几何以其余数乘诸用数并之名曰总数满衍母去之不满为所求数以为实易以三才为衍法以法除实所得为象数如实有余或一或二皆命作一同为象数其象数得一为老阳得二为少隂得三为少阳得四为老隂得老阳画重爻得少隂画拆爻得少阳画单爻得老隂画交爻凡六画乃成卦
　　按此即前大衍法末以三归取爻象亦属附会
　　草曰一二三四列右行立天元一列左行
　　元数右行
　　天元左行
　　以右行一二三四互乘左行异子一弗乘对位本子各得衍数
　　元数右行
　　上　副　次　　下
　　衍数左行　并之得五十
　　乃并左行衍数四位共计五十故易曰大衍之数五十算理不可以此五十为用葢分之为二则左右手之数竒偶不同见隂阳之伏数必须复求用数先名此曰衍数以为限率遂乃复以一二三四之元数求等数约定按前术以两两相连环求等约之先以一与二求等一与三求等一与四求等皆得一各约竒弗约偶数不变次以二与三求等亦得一约竒弗约偶数亦不变及以二与四求等乃得二此二只约副数二变为一而弗约四次以三与四求等亦得一约竒亦不变所得一一三四各为定数母列右行仍各立天元一为子列左行
　　定母右行
　　天行左行
　　以右行定母一一三四互乘左行各子一惟不对乘本子毕左上得一十二左副得一十二左次得四次下得三皆曰衍数
　　定母右行　以右定母满去左
　　衍数左行　衍衍余各为竒数
　　次以各母去衍数其一母去衍一十二竒一其副母一亦去副子一十二亦各竒一其次母三去次衍四亦竒一其下母四欲去下子三则不满便以三为左下竒数
　　定母右行
　　竒数左行
　　凡竒数得一者便为乘率今左下衍是三乃与本母四用大衍求一术入之列衍竒三于右上定母于右下立天元一于左上空其左下
　　【衍　定　商竒　母】
　　【天元】
　　先以右上少数三除右下多数四得一为商以商一乘左上天元一只得一归左下其右下余一
　　【商　衍　定母竒　余】○
　　【天　归元　数】
　　次以右下少数一除右上多数三须使右上必竒一算乃止遂于右行最上商二以除右衍必竒一乃以上商命右下定余一除之右衍余一
　　【商　衍竒　定母余　　余】
　　【天　　归元　　数】
　　次以商二与左下归数相乘得二加入左上天元一内共得三



　　今验右上衍余得一当止乃以左上三为乘率与前三者乘率各一与衍定图衍数对列之通计三行
　　定母
　　衍数
　　乘率
　　以乘率对乘左行毕左上得一十二左副得一十二左次得四左下得九皆曰泛用数
　　定母　　衍母
　　泛用
　　次以右行一二三四相乘得一十二名曰衍母复推元用等数二约副母二为一今乃复归之为二遂用衍母一十二益于左副一十二内共为二十四
　　元数
　　定用
　　今验用数图右行之一二三四即是所揲之数左行一十二并二十四及四与九并之得四十九名曰用数用为蓍草数故易曰其用四十有九是也
　　假今用蓍四十九信手分之为二则左手竒右手必偶左手偶右手必竒欲使蓍数近大衍五十非四十九或五十一不可二数信手分之必有一竒一偶故所以用四十九取七七之数始有左副二十四内益十二就其三十七泛为用数但三十七无意义兼蓍少太露是以用四十有九凡揲蓍求一爻之数欲得一二三四岀于无余必令揲者不得知故以四十九蓍分之为二只用左手之数假令左手分得三十三自一一楪之必竒一故不繁楪乃径挂一故易曰分而为二以象两挂一以象三次后又令筮人以二二揲之其三十三亦竒一故归奇于防又令之以三三揲之其三十三必奇三故归奇于防又令之以四四揲之又奇一亦归奇于防与前挂一并三度揲通有四防乃得一一三一其挂一者乘用数图左上用数一十二其二揲防一者乘左副用数二十四其三揲防三者乘左次用数四得一十二其四揲一者乘左下用数九
　　用数
　　左行三防谓之三变
　　挂一得一十二防一得二十四防三得一十二又防一得九并为总数

　　并此四总得五十七不问所握几何乃满衍母一十二去之得不满者九【或使知其所握五十七亦满衍母去之亦只得九数】以为实用三才衍法约之得三乃画少阳单爻【或不满得八得七为实皆命为三】他皆仿此　术意谓揲二楪三楪四者凡三度复以三十三从头数揲之故曰三变而成爻既卦有六爻必有十八变故曰十有八变而成卦
　　按此条强援蓍卦牵附衍数致本法反晦今以本法列于前则其弊自见矣
　　古厯会积
　　问古厯冬至以三百六十五日四分日之一朔防以二十九日九百四十分日之四百九十九甲子以六十日各为一周假令至淳祐丙午十一月丙辰朔初五日庚申冬至初九日甲子欲求古厯气朔甲子一会积年积月积日及厯过未至年数各几何
　　按此题嵗实朔防皆古法用数淳祐丙午嵗合朔冬至干支乃宋开禧法所步题数已不相即推算无误亦未合况不能无误耶
　　荅曰一会积一万八千二百四十年二十二万五千六百月六百六十六万二千一百六十日　厯过九千一百六十三年未至九千七十七年按荅数皆不合
　　术曰同前置问数【有分者通之互乘之得通数】求总等不约一位约众位各得元法连环求等约竒弗约偶各得定母【本题欲求一会不复乘偶】以定相乘为衍母定除母得衍数满定去衍得竒以大衍入之得乘率以乘衍数得泛用数并诸泛以课衍母如泛内多倍数者损之乃验元数竒偶同类处各损半倍【或三位同类者三约衍母损泛】各得正用然后推气朔不及或所遇甲子日数乘正用加减之为总满衍去之余为所求厯过率实如纪元法而一为厯过以气元法除衍母得一会积年以气周日刻乘一会年得一会积日以朔元法除衍母得一会积月数
　　按如纪元法而一以气元法除衍母二语皆误故得数不合皆当以气分为法葢气分即嵗实分也
　　右本题问气朔甲子相距日数系开禧厯推倒或甲子日在气朔之间及非十一月前后者其总数必满母赘去之所得厯过年数尾位虽伦首位必异今设问以明大衍之理初不计其前多后少之厯过
　　按此数语葢因得数不合而自解之然算家终以得数为凖得数不合则无以取信于人矣
　　草曰置问数冬至三百六十五日四分日之一朔
　　防二十九日九百四十分日之四百九十九甲子六十日各通分内子互乘之列三等位具图如后



　　冬至得一千四百六十一朔实得二万七千七百五十九甲子无母只是六十列三行互乘之具图如后
　　【气通　母　　　　　　　　总等不约纪分】








　　以三行互乘右得一百三十七万三千三百四十为气分中得一十一万一千三十六为朔分左得二十二万五千六百为纪分先求总等得一十二【按十二乃朔分纪分所求等数亦可为气分等数故为总等】乃存纪分一位不约只以等一十二约气分得一十一万四千四百四十五又约朔分得九千二百五十三皆为元法乃以连环求等次以纪元二十二万五千六百与朔元九千二百五十三求等得一不约又以纪元与气元一十一万四千四百四十五求等得二百三十五只约气元得四百八十七次以气元四百八十七与朔元九千二百五十三求等得四百八十七只约朔元九千二百五十三得一十九约偏毕得四百八十七为气定得一十九为气定得二十二万五千六百为纪定以三定相乘得二十亿八千七百四十七万六千八百为衍母具图如后







