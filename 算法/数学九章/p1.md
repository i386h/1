<!-- { "loadSidebar": true } -->
　　钦定四库全书　　　　　子部六
　　数学九章　　　　　　　天文算法类二【算书之属】提要
　　【臣】等谨案数学九章十八卷宋秦九韶撰九韶始末未详惟据原序自称其籍曰鲁郡然序题淳祐七年鲁郡已久入于元九韶葢述其祖贯未详实为何许人也是书分为九类一曰大衍以奇零求总数为九类之纲二曰天时以步气朔晷影及五星伏见三曰田域以推方圆羃积四曰测望以推髙深广逺五曰赋役以均租税力役六曰钱谷以权轻重出入七曰营建以度土功八曰军旅以定行阵九曰市易以治交易虽以九章为名而与古九章门目迥别葢古法设其术九韶则别其用耳宋代诸儒尚虚谈而薄实用数虽圣门六艺之一亦鄙之不言即有谈数学者亦不过推演河洛之奇偶于人事无闗故乐屡争而不决厯亦每变而愈舛岂非算术不明惟凭臆断之故欤数百年中惟沈括究心是事而自梦溪笔谈以外未有成书九韶当宋末造独崛起而明絶学其中如大衍类蓍卦发微欲以新术改周易揲蓍之法殊乖古义古厯防积题数既误且谓设问以明大衍之理初不计前后多少之厯过尤非实据天时类缀术推星本非方程法而术曰方程复于草中多设一数以合方程行列更为牵合所载皆平气平朔凡晷影长短五星迟疾皆设数加减不过得其大防较今之定气定朔用三角形推算者亦为未密然自秦汉以来成法相传未有言其立法之意者惟此书大衍术中所载立天元一法能举立法之意而言之其用虽仅一端而以零数推总数足以尽奇偶和较之变至为精妙苟得其意而用之凡诸法所不能得者皆随所用而无不通后元郭守敬用之于弧矢李冶用之于勾股方圆欧逻巴新法易其名曰借根方用之于九章八线其源实开自九韶亦可云有功于算术者矣至于田域测望赋役钱谷营建军旅市易七类皆扩充古法取事命题虽条目纷纭曲折往复不免瑕瑜互见而其精确者居多今即永乐大典所载于其误者正之疎者辨之颠倒者次序之各加案语于下庶得失不掩俾算家有所稽考焉乾隆四十九年十月恭校上
　　总纂官【臣】纪昀【臣】陆锡熊【臣】孙士毅
　　总　校　官　【臣】　陆　费　墀

　　数学九章序
　　周教六艺数实成之学士大夫所从事尚矣其用本太虚生一而周流无穷大可以通神明顺性命小足以经世务类万物距容以浅近窥哉若昔推防以迎日定律而和气髀距濬川土圭度咎天地之大囿焉而不能外况其间总总者乎爰自河图洛书闿发幽秘八卦九畴错综精防极而至于大衍皇极之用而人事之变无不该鬼神之情莫能隐矣圣人神之言而遗其粗常人昧之由而莫之觉要其归则数与道非二本也汉去古未逺有张苍许商马延年耿夀昌郑张衡刘洪之伦或明天道而法传于后或计功防而效验于时后世学者自高鄙不之讲此学殆绝惟治厯畴人能为乘除而弗通于开方衍变若官府会事则府史一二絫之算家位置素所不识上之人亦委而听焉持算者惟若人则鄙之也宜矣呜呼乐有制氏仅记铿锵而谓与天地同和者止于是可乎今数术之书尚三十余家天象厯度谓之缀术太乙壬甲谓之三式皆曰内算言其秘也九章所载及周官九数击于方圆者为专术皆曰外算对内而言也其用相通不可岐二独大衍法不载九章未有能推之者厯家演法颇用之以为方程者误也且天下之事多矣古之人先事而计计定而行仰观俯察人谋鬼谋无所不用其谨是以不愆于成载籍章章可覆也后世兴事造始鲜能考度乎天纪人事之殽缺矣可不求其故哉九韶愚陋不闲于艺然早嵗侍亲中都因得访习于太史又尝从隐君子受数学时际兵难歴嵗遥塞不自意全于矢石之间更险离忧荏苒十禩心槁气落信知失物莫不有数也乃肆意其间旁诹方能探索杳粗若有得焉所谓通神明顺性命固肤末于见若其小者窃尝设为问荅以拟于用积多而惜其弃因取八十一题厘为九类立术具草间以图发之恐或可备博学多识君子之余观曲艺可遂也愿进之于道傥曰艺成而下是惟畴人府史流也乌足尽天下之用亦无瞢焉时淳祐七年九月鲁郡秦九韶叙且系之曰昆仑旁薄道本虚一圣有大衍防寓于易竒余取防郡数皆捐衍而防之探隐之原数术之传以实为体其书九章惟兹弗纪厯家虽用用而不知小试经世姑推所为述大衍第一　七精回穹人事之纪追缀而求宵星画晷厯乆则踈惟智能革不寻天道模袭何益三农务穯厥施自天以滋以生雨膏雪零司牧闵马尺寸验之积以噐移忧喜皆非述天时第二　魁隗粒民甄度四海苍姫井之仁政攸在代逺庶蕃恳菑日广步度庀赋版图是掌方圆异状袤窳殊形专术精防熟防厥真差之毫厘谬乃千里公私共盖谨其籍述田域第三莫高匪山莫濬匪川神禹奠之积矩攸传智创巧述重差夕桀求之既详揆之冈越崇深广逺度则靡容形格势禁防垒仇墉欲知其数先望以表因差施术坐悉防述测望第四　邦国之赋以待百事畦田经入取之有度未免力役先商厥功以衰以率逸乃同汉犹近古租税以算调均钱谷何菑之扞惟仁隐民犹已溺饥赋役不均寜得勿思述赋役第五　物等敛赋式时府庾粒粟寸丝褐夫红女商征边籴后世多端立縁为欺上下俱殚我闻理财如智治水澄原濬流惟其深矣彼昧弗察急烦刑去理益逺吁嗟不仁述钱谷第六　斯城斯池乃栋乃宇宅坐寄命以保以聚鸠功雉制竹个本章匪防匪度财蠧力伤围蔡而裁如子西素匠计露台俾汉文惧惟武图功惟俭昭德有国有家兹焉取则述营建第七　天生五材兵去未可不教而战维上之过堂堂之阵鹅鹳为行营应规矩其将莫当师中之吉惟智仁勇夜算军书先计攸重我闻在昔轻则寡谋殄民以幸亦孔之忧述军旅第八　日中而市万民所资贾贸墆鬻利析铢锱蹛财役贫封君低首豕末兼并非国之厚述市易第九

　　钦定四库全书
　　数学九章卷一上　　　　宋　秦九韶　撰大衍
　　按大衍术以各分数之竒零求各分数之总数大而天行小而物数皆可御之其法有求元求定求术求竒求乘求用之目大约以数之竒偶为根而以诸数相度之尽不尽为用有求彼此不能度尽之诸数者元数定数是也有求诸数皆能度尽之一数者衍母数是也有求诸数皆能度尽而一数不能度尽之数者各衍数是也其不尽之数即竒数也有求二数相度余一之数者乘数是也有求二数相度余一而诸数又能度尽之数者用数是也求元数定数初与约分法相似终变二数务使其等数为一盖以一为等数始能度尽二数是他数俱不能度尽二数而二数相度益不能尽也以定数竒数求乘数之法名曰大衍求一中有立天元一于左上之语下载立天元一算式按立天元一法见于元郭守敬之厯源李冶之测圆海镜及四海之借根方者皆虚设所求之数为一与所有实数反覆推求归于少广诸乘方得其积数与边数或正负亷隅数而止次用除法或开方法得所求数此数命定数为一与竒数反覆商较至余一实数而止其竒数所积即为乘数盖其用不同而法则无二也然其极和较之用穷竒偶之情则有为元法西法所未及者但原本法解烦杂图式譌舛今详加改定并释其义俾学者易见焉
　　大衍数术
　　大衍总数术曰置诸问数【类名有四】一曰元数【谓尾位见单零者本门揲蓍酒息斛粜砌甎失米之类是也】二曰牧数【谓尾位见分厘者假令冬至三百六十五日二十五刻欲与甲子六十日为一会而求积日之类】三曰通数【谓诸数各有分子母者本门问一会积年是也】四曰复数【谓尾位见十或百及千以上者本门筑隄并急足之类是也】
　　按此言问题有是四类
　　元数者先以两连环求等约竒弗约偶【或约得五而彼有十乃约偶而弗约竒】或元数俱偶约毕可存一位见偶或皆约而犹有类数存姑置之俟与其他约徧而后乃与姑置者求等约之或诸数皆不可尽类则以诸元数命曰复【按复应作定】数以复【按同上】数格入之
　　按此以元数求定数法也连环求等者于诸数中逐次取二数相度得一数可以度尽者为等数为法只约一数约竒弗约偶专为等数为偶者言之若等数为竒者则约偶弗约竒而等数为五与十者又有或约竒或约偶者矣皆约而犹有类俟约徧求等约之者逐条两两取约毕犹有二数可约者求得等数为续等【见后】续等约一数必复乘一数盖等数为二数之较【或二数展转之较】可约续等乃已约之较不可约不可约而两数又不可使有等故约一数乘一数犹之不约也术内未详
　　收数者乃命尾位分厘作单零以进所问之数定位讫用元数格入之或如意立数为母收进分厘以从所问用通数格入之
　　按收数者单位下有竒零之数也进位者以竒零之末位为单位也若立分母通之反不如用原数为简
　　通数者置问数通分内子互乘之皆曰通数求总等不约一位约众位得各原法数用元数格入之或诸母数繁就分从省通之者皆不用元各母仍求总等存一位约众位亦各得原法数亦用元法数格入之
　　按通数与收数相似但单数有分母竒零为分子耳通分纳子即进尾数为单位之义因加互乘一次故加总等一约然后为元数也
　　又按求总等不拘通数复数但题中有三数可以一等数度尽者即可用总等法存一数约众数然后为元数凡度之后等数仍可约者此数必当存之
　　复数者问数尾位见十以上者以诸数求总等存一位约众位始得元数两两连环求等约竒弗约偶复乘偶或约偶或约竒复乘竒【按此四语有误应作约竒弗约偶复乘偶或约偶弗约竒弗乘竒然皆续等下用之此处可省】或彼此可约而犹有类数存者又相减以求续等以续等约彼则必复乘此乃得定数所有元数收数通数三格皆有复乘求定之理悉可入之按复数者诸问数皆至十或百或千而止也右各叚皆云以某格入之此又云三格悉可入之大约古算必有其程式也
　　求定数勿使两位见偶勿使见一太多见一多则借用繁不欲借则任得一
　　按勿使两位见偶者盖众数连乘中有两偶数则所得总数以一偶数除之必仍得偶数不能求余一之乘数也勿使见一太多见一多则借数繁者盖见一多因数本如此且见一即不必推乃云勿使太多又云借数皆涂人之耳目也故曰不欲借则任得一
　　以定相乘为衍母以各定约衍母得各衍数【或列各定数于右行各立天元一为子于左行以母互乘子亦得衍数】诸衍数各满定母去之不满曰竒以竒与定用大衍求一入之以求乘率【或竒得一即为乘率】按诸定数连乘为衍母即为诸定数皆能度尽之数亦为总数最大之限凡总数在限内者各定数之差皆不等若过限外则各定数之差有与限内相等者其两总数之差必为衍母之倍数各衍母者即诸数度尽一数度不尽之数也竒数者定数度衍数不尽之数也定数原为彼此不能度尽之数衍数为他定数连乘之数以此一定数度之必不能尽也
　　大衍求一数云置竒右上定居右下立天元一于左上先以右上除右下所得商数与左上一相生入左下然后乃以右行上下以少除多递互除之所得商数随即递互累乘归左行上下须使右上末后竒一而止乃验左上所得以为乘率或竒数已见单一者便为乘率【按此二语重上】
