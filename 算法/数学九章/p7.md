<!-- { "loadSidebar": true } -->
　　斗分嵗余求气骨朔骨闰骨及衍等数约率因率蔀率求入元嵗嵗闰入闰元率元闰已上皆同此术但其所以求朔积年之术乃以闰骨减入闰余为之闰赢却与闰缩朔率列号甲乙丙丁四位除乘消减谓之方程乃求得元数以乘元率所得为之积年加入元嵗共为演纪嵗积年所谓方程正是大衍术【今人少知】非特置筭繁多初无定法可传甚是惑悮后学易失古人之术意故今术不言闰赢而曰入闰差者盖本将来可用入元嵗便为积年之意故今止将元闰朔率二项以大衍先求等数因数蔀者仍仿前前求入元嵗之术理假闰骨如气骨以等数为约数及求乘数蔀数以等约闰缩得因乘数满蔀去之不满在限下以乘元率便为朔积年亦加入元嵗共为演纪积年此术非惟止用乘除省便又且于自然中取见积年不惑不差矣新术敢不用闰赢而求者实知闰赢已存于入闰之中但求朔积年之竒分与闰缩等则自与入闰相合必满朔率所去故也数理精微不易窥识穷年致志感于梦寐幸而得知谨不敢隐草曰本厯以何承天术调得一万六千九百为日法系三百三十九强一十七弱先以强数三百三十九乘强子二十六得八千八百一十四于上次以弱数一十七乘弱子九得一百五十三并上共得八千九百六十七为朔余次以日法通朔防二十九日得四十九万一百增入朔余得四十九万九千六十七为朔率又以日法乘统天厯所测毎嵗冬至周日下二十四刻三十一分得四千一百八分三十九杪为斗泛分验八分既偶遂弃三十九杪只以四千一百八分为斗定分与日法以大衍术入之□得五十二为等数一百四十四为因率三百二十五为蔀率以甲子六十为纪法乘等数得三千一百二十为约率却置本厯上课所用嘉泰甲子嵗气骨一十一日四十四刻六十一分五十一杪以乘日法得一十九万三千四百四十分二十六杪为气泛骨欲满约率三千一百二十而一故就近乃弃微杪只以一十九万三千四百四十为气定骨然后以约率三千一百二十除之得六十二以因率一百四十四乘之得八千九百二十八满蔀率三百二十五去之不满一百五十三以纪法六十乘之得九千一百八十年为入元嵗次置嵗　三百六十五以日法乘之得六百一十六万八千五百并斗定分四千一百八得六百一十七万二千六百八为嵗率却以十二月乘朔率四十九万九千六百七得五百九十八万八千八百四率内减去此数余一十八万三千八百四为嵗闰以嵗闰乘入元嵗九千一百八十得一十亿八千七百三十二万七百二十满朔率去之不满四十七万四千二百六十为入闰次置本厯所用嘉泰甲子嵗天正十一月朔一日七十五刻五十五分六十二杪以日法乘之得二万九千六百六十八分九千九百七十八杪为朔泛骨就近收杪为一分共得二万九千六百六十九为朔定骨数然后乃以朔定骨减气骨一十九万三千四百四十余一十六万三千七百七十一为闰泛骨置日法以二百归除之得八十四半为半刻法次以入闰数内减去闰泛骨与入闰相课减之余三十一万四百八十九【此是闰赢】为差半刻法以上乃以闰泛骨并朔率共得六十六万二千八百三十八以入闰四十七万四千二百六十减之余一十八万八千五百七十八在朔率下便为闰缩次以纪防六十乘日法得一百一万四千为纪率以等数五十二归除纪率得一万九千五百【按即六十乘三百二十五之数为一蔀年数】为气元率以气元率乘嵗闰一十八万三千八百四得三十五亿八千四百一十七万八千满朔率去之不满三十七万七千八百七十三为元闰次置一亿【按此数似虗设不过取一亿之数为限耳此所求过限又将改率数以迁就之矣】以入元嵗元千一百八十减之余九千九百九十九万八百二十为实以元率一万九千五百为法除之得五千一二十七为乘元限数乃以元闰三十七万七千八百七十三余与朔率四十九万九千六十七用大衍术求之得等数一因等四十五万七千九百九十九蔀数四十九万九千六十七然后以等数一约闰缩只得一十八万八千五百七十八以因数四十五万七千九百九十九乘之得八百六十三亿六千八百五十三万五千四百二十二满蔀数四十九万九千六百七十去之不满四百二在乘元限数以下为可用以乘元率一万九千五百得七百八十三万九千年为数积年并入元嵗九千一百八十共得七百八十四万八千一百八十为嘉泰四年甲子嵗积算本厯系于丁夘嵗进呈又加丁夘三年共为七百八十四万八千一百八十三年为本厯积年合具绘图如后
　　按此术草内竒定相求有等数又有因数蔀数之异盖等数即度尽定竒两数之数因数为竒数之倍数任倍定竒二数相较但得一等数则竒之倍数即为因数蔀数者竒数最大之倍数也任倍竒定至两边相等无较数则竒数之倍数即谓之蔀数也等数甚小者因数不患其甚大有蔀数以限之也草中尚多讹舛正之于后






　　按此题术草皆曰何承天调日法而宋书所载何承天法并无甚率且各用数亦与此不同今细按其草日法已有定数所调者朔防余分也然从来朔防余分皆以实测之朔防分嵗实分两母子互乘相通即得并无所谓调法今所载强弱母子四数大约已有朔防余分与日法分相约而得非别有所本乃故设曲折以为竒也试以朔余分八千九百六十七分为第一条置日法分内减朔防余分余七千九百三十三为第二条以此二数数取之先置第一条减第二条余一千零三十四为第三条七因第三条以减第二条余六百九十五为第四条以第四条减第三条余三百三十九为第五条二因第五
　　条以减第四条余一十七为
　　第六条是第五条即强母数
　　第六条即弱母数矣次用第
　　五条第六条转求第一条以
　　取两子数置第六条于上二
　　因第五条加之得第五条者
　　二第六条者一共六百九十
　　五为第四条以第四条加第
　　五条得第五条者三第六条
　　者一共一千零三十四为第
　　三条七因第三条以加第四
　　条得第五条者二十三第六
　　条者八共七千九百三十三
　　为第二条以第二条加第三
　　条得第五条者二十六第六条者九共八千九百六十七为第一条是第五条倍数即强子数第六条倍数即弱子数矣至算式中以日法取强母数者则又以第五条第六条再约而得者如以第五条为实第六条为法为法商之初商得十以法乘初商得一百七十为初商积减实余一百六十九恰与百分日法分之一等故百除日法分为一数又三乘之得五百零七为实以四十九为法初商得十初商积为四百九十减实余十七乃以商十乘十七得一百七十与前初商积等故加与前余积等之百分日法分之一得三百三十九为五条之数名之曰强数也
　　次以日法乘朔防日得数并朔余为朔率





　　斗分见偶则弃见竒则收为偶
　　按此系弃分以下数不用也分为偶数即用其数分为竒数则杪微进一分并为偶数如无杪微即加一分
　　又按算中用数以日法分一万六千九百分为主斗分定为四千一百零八为偶数气骨分亦定为偶数其各时刻分皆由日分比例而得故变时刻分为日分求之无不合
<子部,天文算法类,算书之属,数学九章,卷二上>
<子部,天文算法类,算书之属,数学九章,卷二上>
　　按求入元嵗法用斗分与日法分求等率乘率盖以六十年之嵗实积分与纪法分相约后以六十除纪法分得日法分为定以六十除嵗实积分得斗分为竒求得蔀数乘数皆与六十年之嵗实积分与纪法分所求者同惟等数则为六十之一故以六十乘之为乘分以约气骨分然后以乘数乘之满蔀数去之所得用数为六十年之周数故以六十乘之始为年数此立法之意也然以六十年为周数则六十年之间其气骨数有合者则不可得故所得年数较以嵗实分纪分相求者为逺也





<子部,天文算法类,算书之属,数学九章,卷二上>
<子部,天文算法类,算书之属,数学九章,卷二上>
<子部,天文算法类,算书之属,数学九章,卷二上>






　　按气元一万九千五百乃前蔀数三百二十五以六十乘之之数盖求入元嵗用六十倍者故此仍用六十倍也
　　又按此皆用六十年嵗实分求得之数与用一嵗实分求得之数同盖因积年数为六十度尽之数若非六十度尽之数则得数必逺也今依其数另设一题以明其法
　　设宋开禧厯日法一万六千九百分嵗实分六百一十七万二千六百零八法纪率分一百零一万四千分朔率分四十九万九千零六十七分嘉泰甲子嵗天正冬至距甲子日子正后十九万三千四百四十分【古名气骨】十一月朔距甲子日子正后二万九千六百六十九分【古名朔骨】问距歴元甲子子正初刻冬至朔之积年几何
　　答曰七百八十四万八千一百八十年
　　法以纪率为纪定纪率除嵗率【即嵗实分】余八万八千六百零八分为纪竒依大衍术求至竒一百零三余分六百二十四余分可以度尽上数则命六百二十四为等数一百零三为乘数又求得竒一千六百二十五无余分则命一千六百二十五为蔀数乃以等数约气骨分得三百一十以乘数乘之得三万一千九百三十满蔀数去之余一千零五十五即专以气骨分求得距厯年之积年数也旧法以斗分【嵗余分四千一百零八】为竒日法为定求得等数一纪法六十乘之以约气骨得数以乘数乘之蔀数除之余数又以六千乘之为积年名入元嵗其术未密【详前】故所得积年为九千一百八十其数亦较逺也






　　次以蔀数【即嵗实纪法满一会年数】乘嵗率得一百亿三千四十八万八千满朔率去之余二十三万九千四百三十四旧名气元闰为朔竒朔率为朔定依前法求得等数一乗数六千二百五十一蔀率四十九万九千零六十七次以前所得积年乗嵗率满朔率去之余二十七万五千二百二十四为前朔距至前分数旧名入元闰以嘉泰甲子气骨朔骨相减得十六万三千七百七十一为后朔距至前分数旧名闰骨夫十一月朔常在冬至前退行今前逺后近是已退过一朔防则于后闰骨内加一朔防再减去入元闰余三十八万七千六百一十四为后朔前朔相差之分数旧名闰缩乃以等数约闰缩仍得原数以乘数乘之满蔀数去之余四千八百二十九为会数乃以一会年数【即前蔀数】乗之得七百八十四万七千一百二十五为朔积年加入前积年得七百八十四万八千一百八十为嘉泰甲子积年













　　又法仍按本法求之先以嵗率纪率朔率求总等朔率不尽无总等各率朔即为各元数次连环求等朔元不尽嵗元等数等数为六百二十四留嵗元不约约纪元得一千六百二十五分为纪泛定嵗元朔元即为嵗泛定朔泛定次求续等纪泛定嵗泛定等数为十三约嵗泛定乗纪泛定得四十七万四千八百一十六为嵗定二万一千一百二十五为纪定朔泛定即朔定三定数连乗得五○○五八八五五五四六九六○○○为衍母纪定朔定相乗得八一○九八三八七五为嵗衍嵗定
　　朔定相乗得二三六九六四
　　九九六六七二为纪衍嵗定
　　纪定相乗得一○○三○四
　　八八○○○为朔衍置各衍
　　数满各定数去之余嵗竒四
　　七二九六三纪竒二○○四
