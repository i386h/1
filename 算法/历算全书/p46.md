<!-- { "loadSidebar": true } -->
　　以斜立面观之最上甲一次乙二次丙三丁四戊五己六庚七辛八其底之数各如其层之数【如堆只三层则以三丙为底四层则四丁为底毎多一层其各面之底必多一数若辛下再加一层为壬必九数也】
　　实计其毎面六觚之数则甲一乙七丙十九丁三十七戊六十一己九十一庚一百二十七辛一百六十九【前平视之图乙为甲掩故但见外围之六丙为乙掩故但见外围十二余皆若是也观者当置身于髙处从甲顶俯视即得其理】皆以外围之数为下层多于上层之数
　　合计其堆垜之积则甲一乙八丙二十七丁六十四戊一百二十五己二百一十六庚三百四十三辛五百一十二【乙七并甲一成八丙十九并乙七甲一成二十七余皆若是】其堆垜之积皆如其层数之立方【以底之一面余乗又以层数乗之也】
　　问平差之根是以段日除积差而得则毎日适得一平差今所减平差甚多殆非实数曰泛平积差是初日多于第七日之数【亦据盈厯言之】而平差之数既如段日则于日数为加倍【盈厯段日十四日竒以此分积差为毎日平差则平差共数亦十四竒于七日为加倍】今倍减平差正合积差原数岂患其多
　　曰若然又何以能合平方曰以本日实减之数与定差较但取其销尽积差已足【如第七日实减十三平差第八日实减十五平差七日有竒在其中半积差必当减尽】故其法若平方之廉隅若合计初日以来减过平差与初日以来定差相较则所减之积皆如平方自乘观图自明【如七日共数得四十九八日共数得六十四之类】
　　又如立差以段日自乘除泛立积差而得故其数亦略如段日之自乗而毎日实减亦如立方之廉隅聊足以销去积差【本日尚有余秒后一日竒减尽】若合计初日以来共数则亦如立方再乗之积矣















<子部,天文算法类,推步之属,历算全书,卷十三>
<子部,天文算法类,推步之属,历算全书,卷十三>
<子部,天文算法类,推步之属,历算全书,卷十三>
　　右图以九限为例【九限以后仿论】定差设十万平差设一千立差设单一如法以本日加法并之为平立合差【如图平差立差各有加法故当并用】以平立合差减先日加分得本日加分合计从前加分为本日盈缩积【或以本日加分加先日盈缩积得本日盈缩积亦同】
　　又简法
　　置定差内减平差立差各一为初日加分【又即为第一日盈缩积】别置平差倍之加入六立差为初日平立合差以后毎于平立合差内加入六立差为次日平立合差【余同上】
　　用定差法
　　以日数乘立差得数加入平差再以日数乘之得数乃置定差以得数减之用其余为实复以日数乘之得本日盈缩积
　　置相近两盈缩积相减得加分又置相近两加分相减得平立合差亦同
　　定差本法
　　置定差以日数乘之得数为实又以日数自乘用乘平差得数以日数再自乘用乘立差得数平立两得数并之为法法减实得盈缩积【余同上】













　　厯算全书卷十三
<子部,天文算法类,推步之属,历算全书>
　　序
　　厯元起冬至其来旧矣易复卦传曰先王以至日闭闗商旅不行后不省方孟子曰天之高也星辰之逺也茍求其故千嵗之日至可坐而致故古来治厯者其立算并起冬至夫有所受之也欲騐将来必推已往所谓求其故也秦炬以前古术难征惟春秋左氏传僖公五年春王正月辛亥朔日南至公既视朔遂登观台以望而书此冬至之有日名灼然可据者自汉以后渐讲于测景之法然测景最难真确载在史书可信者不过数十条故元时许衡王恂郭守敬等造授时厯据之以考厯法之疎密也古今厯法七十余家皆由疎以至密必取其最密者以相参考而其説始定是故唐厯莫善于大衍其次莫善于宣明宋厯莫善于纪元尤莫善于统天金厯莫善于赵知微而授时厯集其大成故以此六家互相稽考也今依其本法求之则合于当时者或戾于古合于古者又不效于今惟授时统天能上考下求而多所合由是观之厯学之古疎今密约畧可见而嵗起冬至则嵗实之古大今小较然不诬即统天授时上考下求百年消长之法亦自有据并可以深思而得其故矣【按百年消长之法统天厯术中已暗藏其数至授时乃发明之郭太史自言创法五端原未及此】元史厯议已具录六厯所得日名离合之端然未详算法兹特各依其本法详衍使学厯者攷焉宣城梅文鼎










　　钦定四库全书
　　厯算全书卷十四
　　宣城梅文鼎撰
　　冬至攷
　　唐宋金元六家算冬至本术
　　唐开元大衍厯【僧一行造】演纪上元阏逢困敦之歳距开元十二年甲子积九千六百九十六万一千七百四十算
　　通法三千○四十
　　策实百一十一万○三百四十三
　　策余万五千九百四十三
　　策实乘积算曰中积分盈通法而一为积日爻数去之余起甲子算外得天正中气
　　辰法七百六十【即半辰法】　　刻法三百○四
　　凡发敛加时各置其小余以六爻乘之辰法而一为半辰之数不尽进位六约为分分满刻法为刻命辰起子半算外
　　唐宣明厯【徐昻造】通法曰统法策实曰章歳策余曰通余爻数曰纪法通纪法为分曰旬周章歳乘年曰通积分演纪上元甲子至长庆二年壬寅积七百○七万○一百三十八算外
　　统法八千四百
　　章嵗三百○六万八千○五十五
　　通余四万四千○五十五
　　刻法八十四
　　辰法七百　　半辰法三百五十
　　宋崇宁纪元厯演纪上元上章执徐之歳距元符三年庚辰嵗积二千八百六十一万三千四百六十算至崇宁五年丙戌歳积二千八百六十一万三千四百六十六算
　　日法七千二百九十
　　辰法一千二百一十五　　半辰法六百○七半刻法七百二十九
　　期实二百六十六万二千六百二十六
　　歳周三百六十五日余一千七百七十六
　　旬周四十三万七千四百
　　纪法六十
　　置积年期实乘之为气积分满旬周去之不满日法而一为大余命己卯即所求天正冬至日辰及余其小余倍之辰法而一为辰数不满五因刻法而一为刻数
　　勿庵法小余进一位刻法收之为刻不尽为刻分刻加二退位得时
　　金赵知微重修大明厯演纪上元甲子距大定二十年庚子八千八百六十三万九千六百五十六年【大定庚子即宋孝宗淳熈七年距元至元辛巳一百一年】
　　日法五千二百三十分
　　歳实一百九十一万○二百二十四
　　通余二万七千四百二十四
　　旬周三十一万三千八百
　　纪法六十
　　歳实乘积年为通积分旬周去之不满日法约之为大余命甲子
　　辰法二千六百一十五　半辰法一千三百○七半刻法三百一十三秒八十
　　凡小余六因之辰法除之不尽刻法除之为刻
　　宋统天厯演纪上元甲子歳距绍熈五年甲寅积三千八百三十【至庆元己未歳积三千八百三十五至至元辛巳歳积三千九百一十七】策法一万二千
　　歳分四百三十八万二千九百一十　余六万二九一气差二十三万七千八百一十一【法通得一十九日八一七五】斗分差一百二十七
　　纪实七十二万
　　歳分乘积算气差减之为气泛积
　　积算距算相减为距差斗分差乘之万约【万约者万分为分万秒为秒也半以上收为秒半以下则弃之矣】为躔差【小分半以上从秒一】复以距差乘之【秒半以上从分一】以减泛积为气定积满纪实去之余如策法而一为大余【如其年无躔差及距差乘躔差不满秒以上者以泛为定】鼎按此即授时厯加减嵗余法也积算减距算为距差者距绍熈甲寅为算也斗分差乘距差为躔差者百年加减一分也授时毎百年加减一分统天则一分零六秒弱复以距差乘躔差者百年加减一分竒而又以其距年乘之也假如百年授时加减积百分统天则百有六分弱减泛积为定者授时不立元明以当时所测截算为主故有上考下求之别而加减亦明统天则虽以当时所测截算为主而又立元故只用减所求在距算以后减之则冬至差而早早则其嵗实减矣所求在距算以前减之则冬至益早早则其嵗实加矣减之而歳实减人知之减之而嵗实加人不知之此算家转换之法也若距差乘躔差不满秒半以上者是所求正在绍熈前后百年内其嵗实平故无加减而以泛为定
　　元授时厯【许衡王恂郭守敬造】不用积年据实测至元十八年辛巳嵗前天正冬至为元上考下求皆距此起算
　　日法一万分　　　　纪法六十万
　　嵗实三百六十五万二四二五【上考者毎百年长一分下求者毎百年消一分】气应五十五万六百分
　　距算乘嵗实为中积加气应为通积满纪法去之得数为天正冬至　上考者以气应减中积为通积满纪法去之余以减纪法得数为冬至【并起甲子算外命其日辰】小余以十二乘之满万为一时命起子正满五千又进一时命起子初算外得时不满者以一千二百除之为刻


　　春秋以来冬至日名六厯异同详衍
　　【按春秋以来冬至多矣而所攷只此者以其测验之可据也厯议原载四十八事今攷献公在春秋前无信史可徴故删之而以左传僖公一条为首实四十七事也】
　　鲁僖公五年丙寅歳正月辛亥朔旦冬至
　　大衍厯【积算九千六百九十六万○三百六十二】中积分【一百○七兆六千五百九十二亿五千九百二十二万四千一百六十六】冬至【大余四十七日小余二千八百八十六】辛亥日【九十四刻太强】亥正三刻
　　宣明厯【积算七百○六万八千六百六十二】通积分【二十一兆六千八百七十○亿四千三百七十九万二千四百一十】冬至【大余四十七日小余五千六百一十】
　　辛亥日【六十六刻太强】申正初刻
　　纪元厯【积算二千八百六十一万一千七百○六】气积分【七十六兆一千八百二十二亿七千二百二十九万九千九百五十六】冬至【大余三十三日小余六千一百八十六】壬子日【八十四刻太强】戌正一刻
　　统天厯【积算一千九百八十二】距差【一千八百四十分】躔差【二十三八五】减分【四万三千四百二十八】气泛积【八十六亿八千六百六十八万九千八百○九】气定积【八十六亿八千六百六十四万六千三百七十一】冬至【大余四十七日小余二千三百七十一】
　　辛亥日【一十九刻太强】寅正三刻
　　重修大明厯【积算八千八百六十三万七千八百二十二】通积分【一百六十九兆三千一百八十○亿九千四百八十九万二千一百二十八】冬至【大余四十八日小余四千六百八十八】
　　壬子日【八十九刻半强】亥初二刻
　　授时厯【距算一千九百三十五】歳余【二四四四】中积分【七十○亿六千七百四十七万九一四○】通积分【七十○亿六千六百九十二万八五四○】冬至【四十七万一四六○】
　　辛亥日【一十四刻半强】寅初二刻
　　鲁昭公二十年己夘歳正月己丑朔旦冬至
